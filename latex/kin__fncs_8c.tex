\hypertarget{kin__fncs_8c}{}\doxysection{kin\+\_\+fncs.\+c File Reference}
\label{kin__fncs_8c}\index{kin\_fncs.c@{kin\_fncs.c}}
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$math.\+h$>$}\newline
Include dependency graph for kin\+\_\+fncs.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=200pt]{kin__fncs_8c__incl}
\end{center}
\end{figure}
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{kin__fncs_8c_ae71449b1cc6e6250b91f539153a7a0d3}{M\+\_\+\+PI}}~3.\+1415927
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{kin__fncs_8c_a9e28f8adb98905cdd3d73284163d44b4}{print\+\_\+jacobian}} (double J\mbox{[}3\mbox{]}\mbox{[}4\mbox{]})
\begin{DoxyCompactList}\small\item\em Author\+: Aman Hogan C Library Reference\+: Manfred Huber Copyright\+: The University of Texas at Arlington 2238-\/CSE-\/4360-\/001 \+: Robotics. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{kin__fncs_8c_a82d08a5985352939ea51a499701b5f32}{jacobian}} (double theta\mbox{[}6\mbox{]})
\begin{DoxyCompactList}\small\item\em Finds Jacobian Matrix. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{kin__fncs_8c_add3d5072b681264865269aff1b821c9e}{fwd\+\_\+kin}} (double theta\mbox{[}6\mbox{]}, double x\mbox{[}3\mbox{]})
\begin{DoxyCompactList}\small\item\em Performs Forward Kinematics given joint angles. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{kin__fncs_8c_a134b9fac92e582eb336a5a92aa7a0d55}{inv\+\_\+kin}} (double x\mbox{[}3\mbox{]}, double theta\mbox{[}6\mbox{]})
\begin{DoxyCompactList}\small\item\em Performs inversm kinematics. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{kin__fncs_8c_ae71449b1cc6e6250b91f539153a7a0d3}\label{kin__fncs_8c_ae71449b1cc6e6250b91f539153a7a0d3}} 
\index{kin\_fncs.c@{kin\_fncs.c}!M\_PI@{M\_PI}}
\index{M\_PI@{M\_PI}!kin\_fncs.c@{kin\_fncs.c}}
\doxysubsubsection{\texorpdfstring{M\_PI}{M\_PI}}
{\footnotesize\ttfamily \#define M\+\_\+\+PI~3.\+1415927}



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{kin__fncs_8c_add3d5072b681264865269aff1b821c9e}\label{kin__fncs_8c_add3d5072b681264865269aff1b821c9e}} 
\index{kin\_fncs.c@{kin\_fncs.c}!fwd\_kin@{fwd\_kin}}
\index{fwd\_kin@{fwd\_kin}!kin\_fncs.c@{kin\_fncs.c}}
\doxysubsubsection{\texorpdfstring{fwd\_kin()}{fwd\_kin()}}
{\footnotesize\ttfamily void fwd\+\_\+kin (\begin{DoxyParamCaption}\item[{double}]{theta\mbox{[}6\mbox{]},  }\item[{double}]{x\mbox{[}3\mbox{]} }\end{DoxyParamCaption})}



Performs Forward Kinematics given joint angles. 


\begin{DoxyParams}{Parameters}
{\em theta\mbox{[}6\mbox{]}} & Contains five joint angles of the robot arm \\
\hline
{\em x\mbox{[}3\mbox{]}} & A vector with x,y,z components. This is the position of the tool frame \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
None ~\newline
 
\end{DoxyReturn}
Distances between joints\+: D\mbox{[}1\mbox{]}\+: -\/.\+04 $\vert$ D\mbox{[}2\mbox{]}\+: .040 $\vert$ D\mbox{[}3\mbox{]}\+: -\/.\+040 $\vert$ D\mbox{[}4\mbox{]}\+: .040 $\vert$

Lengths between joints\+: L\mbox{[}0\mbox{]}\+: -\/.\+04 $\vert$ L\mbox{[}1\mbox{]}\+: .040 $\vert$ L\mbox{[}2\mbox{]}\+: -\/.\+040 $\vert$ L\mbox{[}3\mbox{]}\+: .040 $\vert$

Calculated X Position

Calculated Y Position

Calculated Z Position

Set Position Vector

Additionally calculate Jacobian Matrix and print it\mbox{\Hypertarget{kin__fncs_8c_a134b9fac92e582eb336a5a92aa7a0d55}\label{kin__fncs_8c_a134b9fac92e582eb336a5a92aa7a0d55}} 
\index{kin\_fncs.c@{kin\_fncs.c}!inv\_kin@{inv\_kin}}
\index{inv\_kin@{inv\_kin}!kin\_fncs.c@{kin\_fncs.c}}
\doxysubsubsection{\texorpdfstring{inv\_kin()}{inv\_kin()}}
{\footnotesize\ttfamily void inv\+\_\+kin (\begin{DoxyParamCaption}\item[{double}]{x\mbox{[}3\mbox{]},  }\item[{double}]{theta\mbox{[}6\mbox{]} }\end{DoxyParamCaption})}



Performs inversm kinematics. 


\begin{DoxyParams}{Parameters}
{\em x\mbox{[}3\mbox{]}} & \\
\hline
{\em theta\mbox{[}6\mbox{]}} & ~\newline
 \\
\hline
\end{DoxyParams}
Distances between joints\+: D\mbox{[}1\mbox{]}\+: -\/.\+04 $\vert$ D\mbox{[}2\mbox{]}\+: .040 $\vert$ D\mbox{[}3\mbox{]}\+: -\/.\+040 $\vert$ D\mbox{[}4\mbox{]}\+: .040 $\vert$

Lengths between joints\+: L\mbox{[}0\mbox{]}\+: -\/.\+04 $\vert$ L\mbox{[}1\mbox{]}\+: .040 $\vert$ L\mbox{[}2\mbox{]}\+: -\/.\+040 $\vert$ L\mbox{[}3\mbox{]}\+: .040 $\vert$

Find offset of theta\mbox{[}0\mbox{]} then find theta\mbox{[}0\mbox{]} using offset offset = arcsin(d3/sqrt(x$^\wedge$2 + y$^\wedge$2)) theta\mbox{[}0\mbox{]} = arctan(y/x) -\/ offset

If theta\mbox{[}0\mbox{]} $<$ 0, make sure it goes in the counterclockwise

Get position of wrist relative to the shoulder frame Now the Wrist is aligned with the Base Frame

Gives us the 3 DOF in the X-\/Y plane

Gives us the hypotenuse of the triangle

Intermediate angle offset of theta\mbox{[}1\mbox{]}

Intermediate calculation for theta\mbox{[}2\mbox{]}

Intermediate calculation for theta\mbox{[}1\mbox{]}

Refine range of gamma to avoid nan

Refine range of theta\mbox{[}2\mbox{]} to avoid nan

Theta\mbox{[}1\mbox{]} can have two possible values Choose correct value based on theta\mbox{[}2\mbox{]}

Sum of angles property\mbox{\Hypertarget{kin__fncs_8c_a82d08a5985352939ea51a499701b5f32}\label{kin__fncs_8c_a82d08a5985352939ea51a499701b5f32}} 
\index{kin\_fncs.c@{kin\_fncs.c}!jacobian@{jacobian}}
\index{jacobian@{jacobian}!kin\_fncs.c@{kin\_fncs.c}}
\doxysubsubsection{\texorpdfstring{jacobian()}{jacobian()}}
{\footnotesize\ttfamily void jacobian (\begin{DoxyParamCaption}\item[{double}]{theta\mbox{[}6\mbox{]} }\end{DoxyParamCaption})}



Finds Jacobian Matrix. 


\begin{DoxyParams}{Parameters}
{\em theta\mbox{[}6\mbox{]}} & Contains five joint angles of the robot arm \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
None ~\newline
 
\end{DoxyReturn}
Distances between joints\+: D\mbox{[}1\mbox{]}\+: -\/.\+04 $\vert$ D\mbox{[}2\mbox{]}\+: .040 $\vert$ D\mbox{[}3\mbox{]}\+: -\/.\+040 $\vert$ D\mbox{[}4\mbox{]}\+: .040 $\vert$

Lengths between joints\+: L\mbox{[}0\mbox{]}\+: -\/.\+04 $\vert$ L\mbox{[}1\mbox{]}\+: .040 $\vert$ L\mbox{[}2\mbox{]}\+: -\/.\+040 $\vert$ L\mbox{[}3\mbox{]}\+: .040 $\vert$

Partial Derivatives for x

Partial Derivatives for y

Partial Derivatives for z\mbox{\Hypertarget{kin__fncs_8c_a9e28f8adb98905cdd3d73284163d44b4}\label{kin__fncs_8c_a9e28f8adb98905cdd3d73284163d44b4}} 
\index{kin\_fncs.c@{kin\_fncs.c}!print\_jacobian@{print\_jacobian}}
\index{print\_jacobian@{print\_jacobian}!kin\_fncs.c@{kin\_fncs.c}}
\doxysubsubsection{\texorpdfstring{print\_jacobian()}{print\_jacobian()}}
{\footnotesize\ttfamily void print\+\_\+jacobian (\begin{DoxyParamCaption}\item[{double}]{J\mbox{[}3\mbox{]}\mbox{[}4\mbox{]} }\end{DoxyParamCaption})}



Author\+: Aman Hogan C Library Reference\+: Manfred Huber Copyright\+: The University of Texas at Arlington 2238-\/CSE-\/4360-\/001 \+: Robotics. 

Prints Jacobian Matrix 
\begin{DoxyParams}{Parameters}
{\em J\mbox{[}3\mbox{]}\mbox{[}4\mbox{]}} & Jacobian Matrix \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
None 
\end{DoxyReturn}
